<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Find a Cycle - CampusCycle</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Poppins', sans-serif; background: linear-gradient(to right, #e8f5e9, #f1f8e9); color: #333; }
    header { background: linear-gradient(to right, #2e7d32, #388e3c); padding: 30px 20px; text-align: center; color: white; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
    header h1 { font-size: 2.8em; margin-bottom: 10px; }
    nav { background-color: white; text-align: center; padding: 15px 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
    nav a { margin: 0 20px; color: #2e7d32; font-weight: 600; text-decoration: none; transition: color 0.3s; }
    nav a:hover { color: #1b5e20; }
    .cycle-list { display: flex; flex-wrap: wrap; justify-content: center; gap: 30px; padding: 40px 20px; }
    .cycle-card { background: white; border-radius: 15px; padding: 20px; width: 250px; box-shadow: 0 6px 20px rgba(0,0,0,0.08); text-align: center; cursor: pointer; transition: transform 0.3s, box-shadow 0.3s; }
    .cycle-card:hover { transform: translateY(-10px); box-shadow: 0 10px 30px rgba(0,0,0,0.15); }
    .cycle-card img { width: 100%; border-radius: 10px; transition: transform 0.3s; }
    .cycle-card img:hover { transform: scale(1.05); }
    .cycle-card h3 { color: #2e7d32; }
    .cycle-card p { color: #555; }
    footer { text-align: center; padding: 25px; background: #2e7d32; color: white; font-size: 0.9em; margin-top: 40px; }
    /* Modal Styling */
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; }
    .modal-content { background: white; padding: 20px; border-radius: 10px; width: 70%; max-width: 600px; }
    .modal img { width: 100%; border-radius: 10px; }
    .modal .close { position: absolute; top: 10px; right: 20px; font-size: 30px; color: #2e7d32; cursor: pointer; }
    .loading-spinner { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2em; color: #2e7d32; display: none; }
    /* Contact Button Styling */
    .contact-btn { background-color: #388e3c; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; text-align: center; display: inline-block; margin-top: 20px; transition: background-color 0.3s; }
    .contact-btn:hover { background-color: #2e7d32; }
    .contact-btn:active { transform: scale(0.98); }
  </style>
</head>
<body>

  <header>
    <h1>CampusCycle</h1>
    <p>Find a cycle to rent and commute sustainably on campus!</p>
  </header>

  <nav>
    <a href="index.html">Home</a>
    <a href="listcycle.html">List Your Cycle</a>
    <a href="findcycle.html">Find a Cycle</a>
  
    <a href="contact.html">Contact</a>
  </nav>

  <div class="loading-spinner">Loading...</div>

  <section>
    <input type="text" id="search" placeholder="Search Cycles..." style="padding: 10px; width: 80%; max-width: 500px; margin: 20px auto; display: block; border-radius: 5px;">
    <select id="sort" style="padding: 10px; width: 80%; max-width: 500px; margin: 20px auto; display: block; border-radius: 5px;">
      <option value="price-asc">Sort by Price (Low to High)</option>
      <option value="price-desc">Sort by Price (High to Low)</option>
      <option value="condition">Sort by Condition</option>
    </select>
  </section>

  <section class="cycle-list" id="cycle-list"></section>

  <footer>
    &copy; 2025 CampusCycle | Built for smart, sustainable campuses ðŸš²ðŸŒ±
  </footer>

  <!-- Modal -->
  <div id="cycleModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <img id="modal-image" src="" alt="Cycle Image">
      <h3 id="modal-name"></h3>
      <p id="modal-description"></p>
      <p><strong>Condition:</strong> <span id="modal-condition"></span></p>
      <p><strong>Price:</strong> â‚¹<span id="modal-price"></span> per hour</p>
      <p><strong>Owner's Phone Number:</strong> <span id="modal-phone"></span></p>
      <button class="contact-btn" id="contactBtn">Contact Owner</button>
    </div>
  </div>

  <script>
    window.onload = function() {
      const cycles = JSON.parse(localStorage.getItem('cycles')) || [];
      const cycleList = document.getElementById('cycle-list');
      const loadingSpinner = document.querySelector('.loading-spinner');
      const searchInput = document.getElementById('search');
      const sortSelect = document.getElementById('sort');
      const modal = document.getElementById('cycleModal');
      const modalImage = document.getElementById('modal-image');
      const modalName = document.getElementById('modal-name');
      const modalDescription = document.getElementById('modal-description');
      const modalCondition = document.getElementById('modal-condition');
      const modalPrice = document.getElementById('modal-price');
      const modalPhone = document.getElementById('modal-phone');
      const closeModal = document.querySelector('.close');
      const contactBtn = document.getElementById('contactBtn');

      loadingSpinner.style.display = 'block';

      // Display cycles after a short delay
      setTimeout(() => {
        loadingSpinner.style.display = 'none';
        displayCycles(cycles);
      }, 1000);

      // Display cycles
      function displayCycles(cycles) {
        cycleList.innerHTML = '';
        cycles.forEach(cycle => {
          const cycleCard = document.createElement('div');
          cycleCard.classList.add('cycle-card');
          
          cycleCard.innerHTML = `
            <img src="${cycle.image}" alt="Cycle Image">
            <h3>${cycle.name}</h3>
            <p>${cycle.description}</p>
            <p><strong>Condition:</strong> ${cycle.condition}</p>
            <p><strong>Price:</strong> â‚¹${cycle.rentalPrice} per hour</p>
          `;
          
          cycleCard.onclick = () => {
            modal.style.display = 'flex';
            modalImage.src = cycle.image;
            modalName.innerText = cycle.name;
            modalDescription.innerText = cycle.description;
            modalCondition.innerText = cycle.condition;
            modalPrice.innerText = cycle.rentalPrice;
            modalPhone.innerText = cycle.ownerPhone; // Display phone number
          };

          cycleList.appendChild(cycleCard);
        });
      }

      // Search functionality
      searchInput.addEventListener('input', function() {
        const searchTerm = searchInput.value.toLowerCase();
        const filteredCycles = cycles.filter(cycle =>
          cycle.name.toLowerCase().includes(searchTerm) ||
          cycle.description.toLowerCase().includes(searchTerm)
        );
        displayCycles(filteredCycles);
      });

      // Sort functionality
      sortSelect.addEventListener('change', function() {
        let sortedCycles;
        if (sortSelect.value === 'price-asc') {
          sortedCycles = [...cycles].sort((a, b) => a.rentalPrice - b.rentalPrice);
        } else if (sortSelect.value === 'price-desc') {
          sortedCycles = [...cycles].sort((a, b) => b.rentalPrice - a.rentalPrice);
        } else if (sortSelect.value === 'condition') {
          sortedCycles = [...cycles].sort((a, b) => a.condition.localeCompare(b.condition));
        }
        displayCycles(sortedCycles);
      });

      // Close the modal
      closeModal.onclick = function() {
        modal.style.display = 'none';
      };

      // Close the modal if clicked outside
      window.onclick = function(event) {
        if (event.target === modal) {
          modal.style.display = 'none';
        }
      };

      // Contact Button functionality
      contactBtn.onclick = function() {
        alert(`Calling ${modalPhone.innerText}...`);
      };
    };

    // Sample cycle data
    const cycles = [{ name: 'Mountain Cycle', image: 'https://example.com/mountain-cycle.jpg', description: 'Perfect for rugged terrains and off-road adventures.', condition: 'Good', rentalPrice: 50, ownerPhone: '123-456-7890' },
      { name: 'Road Cycle', image: 'https://example.com/road-cycle.jpg', description: 'Designed for high speed on smooth pavements.', condition: 'Excellent', rentalPrice: 40, ownerPhone: '123-456-7891' },
      { name: 'Hybrid Cycle', image: 'https://example.com/hybrid-cycle.jpg', description: 'A mix of road and mountain cycle features.', condition: 'Good', rentalPrice: 45, ownerPhone: '123-456-7892' },
      { name: 'City Cycle', image: 'https://example.com/city-cycle.jpg', description: 'Comfortable and perfect for short commutes.', condition: 'Fair', rentalPrice: 30, ownerPhone: '123-456-7893' },
      { name: 'BMX Cycle', image: 'https://example.com/bmx-cycle.jpg', description: 'Ideal for tricks and stunt riding.', condition: 'Excellent', rentalPrice: 35, ownerPhone: '123-456-7894' },
      { name: 'Electric Cycle', image: 'https://example.com/electric-cycle.jpg', description: 'Pedal-assisted cycle with electric boost.', condition: 'Good', rentalPrice: 70, ownerPhone: '123-456-7895' },
      { name: 'Cruiser Cycle', image: 'https://example.com/cruiser-cycle.jpg', description: 'For relaxed, leisurely rides with a retro feel.', condition: 'Good', rentalPrice: 40, ownerPhone: '123-456-7896' },
      { name: 'Folding Cycle', image: 'https://example.com/folding-cycle.jpg', description: 'Compact, portable, and ideal for urban spaces.', condition: 'Fair', rentalPrice: 25, ownerPhone: '123-456-7897' },
      { name: 'Touring Cycle', image: 'https://example.com/touring-cycle.jpg', description: 'Long-distance cycle with added comfort for extended rides.', condition: 'Excellent', rentalPrice: 60, ownerPhone: '123-456-7898' },
      { name: 'Fixie Cycle', image: 'https://example.com/fixie-cycle.jpg', description: 'Sleek, single-speed cycle perfect for city commutes.', condition: 'Good', rentalPrice: 30, ownerPhone: '123-456-7899' }
    ];

    localStorage.setItem('cycles', JSON.stringify(cycles));
  </script>
</body>
</html>

